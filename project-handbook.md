# 🛠 專案名稱 - 開發協作手冊

## 📋 目錄
1. [任務分工與進度追蹤](#任務分工與進度追蹤)
2. [Git 開發流程與規範](#git-開發流程與規範)
3. [程式碼撰寫與 Review 注意事項](#程式碼撰寫與-review-注意事項)
4. [每日工作日誌區塊](#每日工作日誌區塊)
5. [資源與文件連結](#資源與文件連結)

---

## 🧱 任務分工與進度追蹤

| 任務編號 | 功能說明             | 負責人 | 狀態         | 備註 |
|----------|----------------------|--------|--------------|------|
| #001     | 登入畫面切版         | A      | ✅ 完成       |      |
| #002     | Google 登入串接      | B      | 🟡 進行中     | 依賴 #001 |
| #003     | API Token 機制       | B      | ⏳ 待開始     |      |

- 狀態建議使用：⏳ 待開始｜🟡 進行中｜🔍 審核中｜✅ 完成

---

## 🌱 Git 開發流程與規範

1. 每項任務請建立 feature branch，例如：
   ```bash
   git checkout -b feature/login-ui
   ```

2. 完成後發起 Pull Request（PR），標題格式：

   ```
   [Feature] 登入頁面切版 (#001)
   ```
3. 不能直接 push 到 `main` 分支，需透過 PR。
4. PR 提交後需指派另一位協作者進行 Review。
5. 合併前務必確認：

   * ✅ 沒有衝突
   * ✅ 已自我測試過
   * ✅ 遵守命名與格式規範

---

## 🧠 程式碼撰寫與 Review 注意事項

### 🧹 命名原則

* 變數需有語意：`userInfo` 不要寫成 `x`
* 函式命名盡量是動詞開頭，如 `getUserInfo`

### 🛡 程式邏輯

* 防呆與錯誤處理要寫清楚（例如登入錯誤的提示）
* 不要留死 code
* API 錯誤時要 console log 錯誤資訊

### 👀 Review 時要看的事

* [ ] 功能是否如預期運作？
* [ ] 是否有不合理命名？
* [ ] 是否有簡化空間或可讀性問題？
* [ ] 有無潛在 Bug（如未處理 null）？
* [ ] 結尾是否有自我測試結果備註？

---

## 🗓 每次工作日誌區塊

> 請每次 commit 前更新一次，記錄格式如下：

```markdown
### 🙋‍♂️ A 的日誌（2025/07/08）
- ✅ 完成：登入畫面切版（#001）
- 🟡 進行中：樣式微調、RWD 修正
- 🤔 問題：尚未確定登入按鈕顏色是否符合設計稿

### 🧑‍💻 B 的日誌（2025/07/08）
- ✅ 完成：API token 的初步設計草圖
- ⏳ 明日計畫：串接登入按鈕與 token API
- 🙋 想問：Login API 回傳錯誤格式是否統一？
```

### 🤖 AI 助手的日誌

- **2025/11/21**
  - ✅ 完成：調整測試工具鏈版本，使 React Testing Library 與 React 18 相容並同步升級 ESLint 9 + React Hooks 規則組合。
  - ✅ 完成：收斂 PlaneState 型別為非 optional 欄位，確保正規化後的航機資料結構明確。
- **2025/11/20**
  - ✅ 完成：在 React 進入點新增 root 元素檢查與錯誤訊息，確保缺少掛載節點時能及早失敗並回應 Gemini 建議。
- **2025/11/19**
  - ✅ 完成：改寫 ESLint flat config，確保 js/ts/react/react-hooks 推薦規則正確套用並維持 React Refresh 檢查。
  - ✅ 完成：調整 Demo Pass 過濾流程使用 flatMap 並修正 computePassEvent 介面，以回應 Gemini 效能與 API 建議。
  - ✅ 完成：降版 @testing-library/react 至最新穩定版並補充 .vite 快取忽略條目。
- **2025/11/18**
  - ✅ 完成：修正 computePassEvent 斜距計算，改用觀測點相對高度以符合 Gemini 的噪音等級建議。
- **2025/11/17**
  - ✅ 完成：改寫 ESLint 扁平化設定，直接導入 React 與 React Hooks 推薦組態並保留熱更新檢查。
  - ✅ 完成：集中 StateVector 型別至 types.ts 並調整匯入，呼應 Gemini 關於型別組織的建議。
- **2025/11/16**
  - ✅ 完成：將 computePassEvent 失敗事件 helper 提升至模組層，避免重複宣告並符合 Gemini 建議。
  - ✅ 完成：補充 geodeticToEnu 投影近似的使用範圍，並收斂 toRadians 為檔案內部使用。
- **2025/11/15**
  - ✅ 完成：依 Gemini 建議補齊 React 相關規則、React Refresh 檢查與自動版本偵測設定，強化 ESLint 守備。
  - ✅ 完成：調整噪音等級閾值為具名常數、清理未使用型別並改用穩定版 react-hooks plugin。
- **2025/11/14**
  - ✅ 完成：將 computePassEvent 失敗事件輸出抽取為 helper，降低重複碼並呼應 Gemini 建議。
- **2025/11/13**
  - ✅ 完成：補充 README ENU 座標系統軸向與真航向量測方式，避免實作歧義。
  - ✅ 完成：將噪音等級閾值納入可設定參數，強調現場可調校。
- **2025/11/12**
  - ✅ 完成：補充 README 高度欄位的優先順序與回退策略，明確 geo_altitude 與 baro_altitude 的使用原則。
- **2025/11/11**
  - ✅ 完成：確認 README 維持匿名預設輪詢頻率 10–12 秒，並補充 T–10 秒提醒需升級至 3–5 秒頻率的風險說明。
- **2025/11/10**
  - ✅ 完成：釐清 README duration 術語，分別描述預估通過時長與剩餘通過秒數兩種情境。
- **2025/11/09**
  - ✅ 完成：依 Gemini 建議將 $\vec{r}_0$ 定義上移至 README 定義清單，集中變數說明。
- **2025/11/08**
  - ✅ 完成：統一 README 術語，將「通過持續秒數」更新為「剩餘通過秒數」，以釐清其為剩餘時間。
  - ✅ 完成：依據 Gemini 建議統一 CPA 推導中的符號為 \hat{d}(θ)，移除多餘變數符號。
  - ✅ 完成：補上 README TL;DR 摘要、座標轉換實作方案，並統一輪詢頻率說明以呼應 OpenSky 匿名限制。
  - ✅ 完成：建立 Vite + React + TypeScript Demo 面板，實作 computePassEvent 與單元測試。
  - ✅ 完成：整理 README 對應的 W1/W2/W3 進度規劃並落地為 docs/development-plan.md。
- **2025/11/05**
  - ✅ 完成：修正 README 中 computePassEvent CPA 邏輯，避免忽略仍在半徑內的航機
- **2025/09/05**
  - ✅ 完成：調整 computePassEvent 未通過事件的噪音等級定義
  - 📝 備註：依照 Gemini 建議將未通過事件的 level 設為 null
- **2025/08/30**
  - ✅ 完成：移除 README 中重複的判別式檢查

---

## 📚 資源與文件連結

* 🔗 Figma 設計稿：[點我前往](https://figma.com/xxxx)
* 🔗 API 文件連結：[Swagger Docs](http://localhost:8000/docs)
* 🔗 技術指南 / Code Style：[點我查看](https://github.com/你的組織/code-style-guide)

---

## 📌 補充：兩人協作小叮嚀

* **如果卡住，請互相支援或寫日誌記錄問題點，等老闆回來再補救**
* **分工明確，避免同時改動同一檔案造成衝突**
* **即使只是小改動，也請走 PR 流程，養成良好習慣**

---

## 🏁 TODO 清單樣板（可複製貼上）

```markdown
- [ ] 任務說明：
- [ ] 建立分支：
- [ ] 自我測試情境：
- [ ] 需他人 Review 項目：
- [ ] 文件是否補上：
```

---

## 🧰 建議檔名：`project-handbook.md` 或 `開發協作手冊.md`

---

這樣設計的優點是：

* **透明可見**：不在時，也能清楚該怎麼協作與更新。
* **低門檻維護**：全用文字就能同步，不需額外學工具。
* **便於版本控管**：放在專案根目錄，搭配 Git 使用。
